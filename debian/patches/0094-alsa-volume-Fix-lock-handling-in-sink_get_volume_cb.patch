From a1f789061386b854fd212e3fc5a9e12175617d90 Mon Sep 17 00:00:00 2001
From: Jyri Sarha <jyri.sarha@nokia.com>
Date: Mon, 19 Oct 2009 13:25:30 +0300
Subject: [PATCH] alsa-volume: Fix lock handling in sink_get_volume_cb

---
 src/modules/alsa/module-alsa-sink-volume.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/modules/alsa/module-alsa-sink-volume.c b/src/modules/alsa/module-alsa-sink-volume.c
index 9cc7747..a1ae98c 100644
--- a/src/modules/alsa/module-alsa-sink-volume.c
+++ b/src/modules/alsa/module-alsa-sink-volume.c
@@ -373,12 +373,12 @@ static void sink_get_volume_cb(pa_sink *s) {
 
     if (!u->sink) {
         pa_log_debug("This sink does not exist any more, go away.");
-        return;
+        goto fail;
     }
 
     if (s != u->sink) {
         pa_log_error("This in not my sink, what to do?");
-        return;
+        goto fail;
     }
 
     m = u->active_mixer;
-- 
1.5.6.3

