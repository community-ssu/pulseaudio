From 84f717da03cefe3d017b9a78f8e588df67561d2f Mon Sep 17 00:00:00 2001
From: Jyri Sarha <jyri.sarha@nokia.com>
Date: Thu, 23 Jul 2009 11:28:03 +0300
Subject: [PATCH] alsa-volume: Re-apply a change that was lost from 2b30bb29 in merge

---
 src/modules/alsa/module-alsa-sink-volume.c |   12 +++++-------
 1 files changed, 5 insertions(+), 7 deletions(-)

diff --git a/src/modules/alsa/module-alsa-sink-volume.c b/src/modules/alsa/module-alsa-sink-volume.c
index 3ad8e62..7084a9f 100644
--- a/src/modules/alsa/module-alsa-sink-volume.c
+++ b/src/modules/alsa/module-alsa-sink-volume.c
@@ -1228,14 +1228,12 @@ static int get_mixer_elements(struct userdata *u, const char *mixer_list) {
     pa_assert(mixer_list);
 
     while ((mixer = pa_split(mixer_list, ",", &state))) {
-        if (mixer) {
-            m = get_mixer_element(u, mixer);
-            if (m) {
-                PA_LLIST_PREPEND(struct mixer_control_t, u->mixer_list, m);
-                count++;
-            }
-            pa_xfree(mixer);
+        m = get_mixer_element(u, mixer);
+        if (m) {
+            PA_LLIST_PREPEND(struct mixer_control_t, u->mixer_list, m);
+            count++;
         }
+        pa_xfree(mixer);
     }
 
     return count;
-- 
1.5.6.3

