From c7e2e4320048bf74e76369ac25c12c2373c610b7 Mon Sep 17 00:00:00 2001
From: Luiz Augusto von Dentz <luiz.dentz@openbossa.org>
Date: Fri, 5 Dec 2008 15:47:37 -0300
Subject: [PATCH] Fix bug walking on module list.

---
 src/modules/bluetooth/module-bluetooth-discover.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/src/modules/bluetooth/module-bluetooth-discover.c b/src/modules/bluetooth/module-bluetooth-discover.c
index 36c0a35..ddf944a 100644
--- a/src/modules/bluetooth/module-bluetooth-discover.c
+++ b/src/modules/bluetooth/module-bluetooth-discover.c
@@ -94,7 +94,7 @@ static void module_free(struct module *m) {
 static struct module* module_find(struct device *d, const char *profile) {
     struct module *m;
 
-    for (m = d->module_list; d; d = d->next)
+    for (m = d->module_list; m; m = m->next)
         if (pa_streq(m->profile, profile))
             return m;
 
-- 
1.6.0.2.514.g23abd3

