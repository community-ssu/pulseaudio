From 05d0aed8761b1a7a43a43e1828b0c501e7a5a3e6 Mon Sep 17 00:00:00 2001
From: =?utf-8?q?Marc-Andr=C3=A9=20Lureau?= <marc-andre.lureau@nokia.com>
Date: Wed, 11 Mar 2009 15:25:11 +0200
Subject: [PATCH 47/49] alsa-source-old: small fix

---
 src/modules/alsa/module-alsa-source-old.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/src/modules/alsa/module-alsa-source-old.c b/src/modules/alsa/module-alsa-source-old.c
index efc8875..d63c01b 100644
--- a/src/modules/alsa/module-alsa-source-old.c
+++ b/src/modules/alsa/module-alsa-source-old.c
@@ -652,7 +652,7 @@ static void source_get_volume_cb(pa_source *s) {
 
     pa_log_debug("Read hardware volume: %s", pa_cvolume_snprint(t, sizeof(t), &r));
 
-    if (!pa_cvolume_equal(&u->hardware_volume, &r)) {
+    if (!pa_cvolume_valid(&u->hardware_volume) || !pa_cvolume_equal(&u->hardware_volume, &r)) {
 
         s->virtual_volume = u->hardware_volume = r;
 
-- 
1.6.2.rc1.13.gfd76c.dirty

